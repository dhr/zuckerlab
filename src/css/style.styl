:root
  var-side-color: #f7f7f7
  var-main-color: #fff

  var-nav-width: 220px
  var-total-width: 820px

  var-body-font-size: 16px
  var-rhythm: 12px
  var-rhythm2: calc(2*var(rhythm))
  var-rhythm3: calc(3*var(rhythm))
  var-rhythm4: calc(4*var(rhythm))

body
  position: absolute
  min-width: 100%
  min-height: 100%
  background-color: white
  font-family: 'Open Sans'
  font-size: var(body-font-size)
  font-weight: 200

  &:before
    position: absolute
    top: 0px
    bottom: 0px
    left: 0px
    width: 50%
    z-index: -3
    background-color: var(side-color)
    content: ""
  
  &:after
    position: absolute
    top: 0px
    bottom: 0px
    left: 50%
    right: 0px
    margin-left: calc(-(var(total-width)/2 - var(nav-width)))
    z-index: -1
    background-color: var(main-color)
    box-shadow: 15px 0px 20px 10px rgba(black, 0.3)
    content: ""
  
  h1
    font-size: var(rhythm3)
    margin-bottom: var(rhythm2)
    line-height: var(rhythm3)
  
  h2
    font-size: calc(2*var(rhythm))
    font-weight: 400
    margin-top: var(rhythm3)
    line-height: var(rhythm2)
    position: relative
    top: -3px
  
  h1 + h2, h1 + dl > dt:first-child > h2
    margin-top: var(rhythm2)
  
  h3
    font-size: calc(1.5*var(rhythm))
    font-weight: 600
    margin-top: var(rhythm)
    line-height: var(rhythm2)
    position: relative
    top: -1px
  
  h2 + h3
    margin-top: var(rhythm)

#wrapper
  position: relative
  box-sizing: border-box
  width: var(total-width)
  margin: 0px auto

nav
  float: left
  width: var(nav-width)
  z-index: -2
    
  &:before
    position: absolute
    left: 0px
    top: 0px
    width: calc((var(nav-width)/2))
    height: 100%
    content: ""
  
  ul
    padding: 0px
    list-style-type: none
    
    li
      display: block
      box-sizing: border-box
      margin: var(rhythm) var(rhythm2)
      text-align: right
      
      &:first-child
        margin-top: 0px
      
      .lab
        color: #ccc
        margin-left: 4px
      
      a
        padding: calc(var(rhythm)/4) calc(var(rhythm)/2)
        margin: calc(var(rhythm)/4) -calc(var(rhythm)/2)
        line-height: var(rhythm2)
        text-decoration: none
        text-shadow: 0px 0px 15px #0
        
        color: black
        border-radius: calc(var(rhythm)/4)
        box-shadow: 0px 0px 4px rgba(black, 0)
        transition: all 0.2s linear
        
        &:hover
          background-color: white
          box-shadow: 0px 1px 3px rgba(black, 0.3)
        
        &:active
          transition: none
          box-shadow: inset 0px 1px 3px rgba(black, 0.3)

#content
  overflow: auto
  margin-top: var(rhythm3)
  padding: 0px var(rhythm2) var(rhythm2) var(rhythm2)
  line-height: var(rhythm2)
  
  p + p
    margin-top: var(rhythm2)
  
  a
    text-decoration: none
    font-weight: 400
    color: #a00
    
    &:hover
      text-decoration: underline
  
  #steve
    width: 250px
    height: 188px
    margin: calc(var(rhythm)/2) 0px calc(var(rhythm)/2) var(rhythm)
    float: right
    background-image: url(/img/steve-thumb.jpeg)
    border-radius: 6px
    box-shadow: inset 0px 0px 6px rgba(black, 0.4)
  
  ul.peoples
    li
      display: inline-block
      width: 180px

#pub-sort-controls
  width: 110px
  height: 50px
  margin: 0 0 calc(var(rhythm)/2) var(rhythm)
  float: right
  border: solid 1px black
  border-radius: 5px

.publist
  li
    &:not(:first-child)
      margin-top: var(rhythm)
  
  .author
    &:not(:first-child):before
      content: ', '
    &:last-child:before
      content: ', and '
  
  .title
    &:before
      content: ', '

  .journal, .booktitle
    font-style: italic
    &:before
      font-style: normal
      content: ', '
  
  .volume
    font-weight: bold
    &:before
      font-weight: normal
      content: ', '

  .issue
    &:before
      content: '('
    &:after
      content: ')'

  :not(.issue) + .pages
    display: none
  
  .pages
    &:before
      content: ': '
  
  .year
    &:before
      content: ', '
    &:after
      content: '.'
